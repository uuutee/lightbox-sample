---
layout: page
title: magnific-popup
---
<script src="//code.jquery.com/jquery-3.1.1.min.js"></script>
<!-- magnific-popup-->
<script type="text/javascript" charset="utf-8" src="js/jquery.magnific-popup.js"></script>
<link rel="stylesheet" href="css/magnific-popup.css" />

<script type="text/javascript">
jQuery(document).ready(function($) {
	$('.lightbox').magnificPopup({
		type: 'image',
		closeOnContentClick: true,
		image: {
			verticalFit: true
		}
	});
	$('.lightbox-caption').magnificPopup({
		type: 'image',
		closeOnContentClick: true,
		image: {
			verticalFit: true
		}
	});
	$('#gallery .row').magnificPopup({
		delegate: 'a',
		type: 'image',
		tLoading: 'Loading image #%curr%...',
		gallery: {
			enabled: true,
			navigateByImgClick: true,
			preload: [0,1] // Will preload 0 - before current, and 1 after the current image
		},
		image: {
			tError: '<a href="%url%">The image #%curr%</a> could not be loaded.',
			// titleに一括で追加タグ指定可能
			// titleSrc: function(item) {
			// 	return item.el.attr('title') + '<small>by Marsel Van Oosten</small>';
			// }
		}
	});
	$('.lightbox-youtube').magnificPopup({
		disableOn: 700,
		type: 'iframe',
		removalDelay: 160,
		preloader: false,
		fixedContentPos: true // trueにしないと下にずれる
	});
	$('.lightbox-googlemap').magnificPopup({
		disableOn: 700,
		type: 'iframe',
		removalDelay: 160,
		preloader: false,
		fixedContentPos: true // trueにしないと下にずれる
	});
	$('.lightbox-inline').magnificPopup({
		type: 'inline',
		preloader: false,
		modal: true,
	});
	$(document).on('click', '.modal-close', function(e) {
		e.preventDefault();
		$.magnificPopup.close();
	});
});
</script>
	<main id="main">
		<div class="container">
			<h1>Magnific Popup</h1>

			<section id="memo">
				<h2>documents</h2>
				<ul>
					<li><a href="http://dimsemenov.com/plugins/magnific-popup/">Magnific Popup: Responsive jQuery Lightbox Plugin</a></li>
				</ul>

				<h2>pros</h2>
				<ul>
					<li>グルーピングは親要素のclassを指定する</li>
					<li>googlemapはiframeのsrcを指定する</li>
				</ul>
				<h2>cons</h2>
				<ul>
					<li>windowをはみでた画像はリサイズされず、スクロールする</li>
					<li>全体的に設定が複雑なので、動きごとに個別のjs指定が必要</li>
					<li>アニメーションがしょぼい</li>
					<li>inlineがなぜか左寄り</li>
					<li>inlineはcloseボタンを設置しないと閉じられない</li>
				</ul>
			</section>

			<section id="normal">
				<h2>normal</h2>
				<div class="row">
					<div class="col-sm-3">
						<a class="lightbox" href="https://placehold.it/1920x1080/cccccc/666.jpg">
							<img src="https://placehold.it/600x600/cccccc/666.jpg" class="mw-100">
						</a>
					</div>
				</div>
			</section>

			<section id="caption">
				<h2>caption</h2>
				<div class="row">
					<div class="col-sm-3">
						<a class="lightbox-caption" href="https://placehold.it/600x600/cccccc/666.jpg" title="captionが入ります">
							<img src="https://placehold.it/600x600/cccccc/666.jpg" class="mw-100">
						</a>
					</div>
				</div>
			</section>

			<section id="gallery">
				<h2>gallery</h2>
				<div class="row">
					{% for i in (1..8) %}
						<div class="col-sm-3 col-4 mb-4">
							<a class="lightbox-gallery" rel="gallery" href="https://placehold.it/600x600/cccccc/666.jpg&amp;text={{ i }}" title="{{ i }}">
								<img src="https://placehold.it/600x600/cccccc/666.jpg&amp;text={{ i }}" class="mw-100">
							</a>
						</div>
					{% endfor %}
				</div>
			</section>

			<section id="youtube">
				<h2>youtube</h2>
				<div class="row">
					<div class="col-sm-3">
						<a class="lightbox-youtube" href="https://www.youtube.com/watch?v={{ site.placeholder.youtube[0] }}">
							<img src="https://img.youtube.com/vi/{{ site.placeholder.youtube[0] }}/0.jpg" alt="サムネイル" width="200" class="mw-100" />
						</a>
					</div>
				</div>
			</section>

			<section id="googlemap">
				<h2>googlemap (iframe)</h2>
				<div class="row">
					<div class="col-sm-3">
						<a class="lightbox-googlemap" href="{{ site.placeholder.googlemap[0] }}">
							googlemap
						</a>
					</div>
				</div>

			</section>
	
			<section id="inline">
				<h2>inline</h2>
				<div class="row">
					<div class="col-sm-3">
						<a class="lightbox-inline" href="#inline-content">
							inline
						</a>
						<div id="inline-content" class="mfp-hide">
							<img src="https://placehold.it/600x600/cccccc/666.jpg">
							<div class="modal-close"><a href="#">Close</a></div>
						</div>
					</div>
				</div>
			</section>
		</div>
	</main>
